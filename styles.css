/* =========================
   Design tokens
   ========================= */
:root{
  --black:#000000;
  --white:#FFFFFF;
  --gray-200:#FAFAFA;
  --gray-300:#EDEDED;
  --gray-400:#D9D9D9;
  --gray-450:#BBBBBB;
  --gray-500:#8E8E8E;
  --ink:#121212;
  --blue:#2A71EB;
  --red:#E52F2F;

  /* layout */
  --left-col:576px;          /* 좌측 패널 폭 */
  --container-max:1280px;    /* 전체 최대 폭 */
  --page-pad:24px;           /* 페이지 좌/우 여백 */
  --gap-xl:32px;
  --gap-lg:24px;
  --gap-md:16px;
  --gap-sm:12px;

  /* radii & shadow */
  --r-lg:16px;
  --r-md:12px;
  --r-sm:10px;
  --shadow:0 6px 24px rgba(0,0,0,.06);

  /* preview */
  --logo-box:250px;          /* 오른쪽 로고 박스 */
  --sides-gap:80px;
}

/* =========================
   Reset / base
   ========================= */
*{box-sizing:border-box}
html, body{
  width:100%;
  overflow-x:hidden;         /* 가로 스크롤 방지 */
}
body{
  margin:0;
  color:var(--ink);
  background:#fff;
  font-family:Pretendard, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Apple SD Gothic Neo", "Noto Sans KR", sans-serif;
  font-weight:400;
}
img{max-width:100%;height:auto;display:block}

/* 공통 컨테이너: 화면을 절대 넘지 않게 */
.app-header,
.layout{
  /* 좌우 24px 마진만 두고, 최대폭은 더 넓게(1512px) */
  --page-pad:24px;
  inline-size: min(1512px, 100% - (var(--page-pad) * 2));
  margin-inline: auto;
}

/* =========================
   Header
   ========================= */
.app-header{
  display:flex;align-items:center;justify-content:space-between;
  margin-top:24px;
}
.brand{font-weight:700;font-size:22px}

/* =========================
   Layout grid
   ========================= */
.layout{
  display: grid;                              /* ← 빠져 있어서 1열로 보였던 원인 */
  grid-template-columns: minmax(0, 576px) minmax(0, 1fr);
  gap: 32px;                                  /* column-gap + row-gap */
  margin: 16px auto 40px;
}

/* 모바일(<= 640px): 1열로 전환 + 모바일 크기 조정 */
@media (max-width: 640px){
  /* 1) 페이지 좌우 여백 줄여 실제 가용폭 확보 */
  .app-header,
  .layout{ --page-pad: 12px; } /* 24 → 12 */

  .layout{
    grid-template-columns: 1fr;   /* 1열 */
    row-gap: 20px;
  }
  .panel-right{ margin-top: 16px; }

  /* 2) 로고 크기를 화면폭에 맞춰 자동 축소 (최소~최대 가드) */
  :root{
    /* 120px ~ 150px 범위에서 화면폭에 비례해 변하도록 */
    --logo-box: clamp(112px, 34vw, 150px);
  }

  /* 3) 카드/스테이지 패딩을 살짝 절약 */
  .preview-card,
  .controls{
    padding: 16px;
  }

  .preview-stage{
    min-height: 520px;
    /* 좌우 12px로 축소 + 하단도 살짝 줄임 */
    padding: 24px 12px 80px;

    /* gap: 아이템이 컨테이너에 꼭 들어오도록 자동 계산
       (최솟값 8px, 최댓값 40px 내에서 변동) */
    gap: clamp(8px, calc((100% - (2 * var(--logo-box)) - 56px) / 2), 40px);

    overflow: hidden;  /* 넘치면 자르기 */
  }

  /* 4) 글자 크기도 살짝만 줄이기(선택) */
  .score{ font-size: clamp(48px, 9vw, 56px); }
  .preview-stage .vs{ font-size: clamp(44px, 8vw, 56px); }

  .controls{ grid-template-columns: 1fr; }
}

/* (선택) 태블릿 범위에서만 살짝 축소하고 싶다면 */
@media (min-width: 641px) and (max-width: 1024px){
  :root{
    --logo-box: 220px;   /* 태블릿에선 220px 정도 */
    --sides-gap: 160px;
  }
  .preview-stage{
    min-height: 600px;
  }
}

/* =========================
   Left panel
   ========================= */
.panel-left{
  background:var(--gray-200);
  border-radius:var(--r-lg);
  padding:var(--gap-lg);
}

/* 검색창: 아이콘 + 인풋 가로 정렬 */
.search-box{
  display:flex; align-items:center; gap:10px;
  background:#fff; border:1px solid var(--gray-400); border-radius:12px;
  padding:12px 14px; margin-bottom:var(--gap-lg);
}
.search-box .icon-search{width:20px;height:20px;flex-shrink:0}
.search-box input{
  border:none; outline:none; flex:1; font-size:18px;  /* 18px */
}
.search-box input::placeholder{font-size:18px}        /* 18px */

/* 탭 */
.tabs{
  display:grid; grid-template-columns:1fr 1fr; gap:var(--gap-md);
  margin-bottom:var(--gap-lg);
}
.tabs [role="tab"]{
  height:80px; border:none; border-radius:12px; background:#F0F0F0;
  font-size:18px; font-weight:700;                    /* 18px */
}
.tabs [aria-selected="true"]{background:#121212;color:#fff}

/* 카테고리(아코디언) */
.sports-groups{display:flex;flex-direction:column;gap:var(--gap-md)}
.sport-group{background:#fff;border:1px solid var(--gray-300);border-radius:12px}
.sport-toggle{
  width:100%; text-align:left; padding:18px 16px; border:none; background:transparent;
  display:flex; align-items:center; gap:12px; font-weight:700; font-size:18px; /* 18px */
}
.sport-toggle .count{margin-left:auto;color:#777}

/* 카테고리 아이콘 PNG 크기 고정 */
.sport-toggle .icon{width:20px;height:20px;display:inline-flex;align-items:center;justify-content:center}
.sport-toggle .icon img{width:100%;height:100%;object-fit:contain;display:block}

/* 팀 리스트 */
.team-list{list-style:none;margin:0;padding:0 var(--gap-md) var(--gap-md)}
.team-item{display:flex;align-items:center;gap:12px;padding:16px 4px;border-radius:12px}
.team-item + .team-item{border-top:1px dashed var(--gray-300)}
.team-select{display:flex;align-items:center;gap:12px;flex:1;background:transparent;border:none;text-align:left;padding:0}
.team-logo{width:56px;height:56px;border-radius:12px;overflow:hidden;flex:0 0 56px;background:#fff;border:1px solid var(--gray-300);display:flex;align-items:center;justify-content:center}
.team-logo svg,.team-logo img {width:100%;height:100%;display:block}
.team-name{font-weight:700;font-size:18px}            /* 18px */
.team-actions{display:flex;gap:8px}
.btn-mini{height:32px;padding:0 10px;border:1px solid var(--gray-300);border-radius:10px;background:#fff;font-size:12px}
.btn-mini.is-selected{background:var(--ink);color:#fff;border-color:var(--ink)}

/* 숫자 옆에 chevron 아이콘 붙이기 */
.sport-toggle .count{
  margin-left: auto;                 /* 기존처럼 오른쪽 끝으로 밀기 */
  display: inline-flex;
  align-items: center;
  gap: 6px;                          /* 숫자와 아이콘 간격 */
}

/* 닫힘 상태(aria-expanded="false") → 아래쪽 화살표 */
.sport-toggle .count::after{
  content: "";
  width: 16px;
  height: 16px;
  background: currentColor;          /* 숫자 색(#777)을 그대로 사용 */
  /* 아이콘을 벡터로 마스킹해서 어떤 색이든 자연스럽게 표현 */
  -webkit-mask: url("data:image/svg+xml;utf8,\
<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'>\
<path d='M7.41 8.59 12 13.17 16.59 8.59 18 10l-6 6-6-6z' fill='black'/></svg>") no-repeat center / 100% 100%;
          mask: url("data:image/svg+xml;utf8,\
<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'>\
<path d='M7.41 8.59 12 13.17 16.59 8.59 18 10l-6 6-6-6z' fill='black'/></svg>") no-repeat center / 100% 100%;
  transition: transform .2s ease;
  opacity: .8;                       /* 필요 시 톤 다운 */
}

/* 열림 상태(aria-expanded="true") → 위로 회전 */
.sport-toggle[aria-expanded="true"] .count::after{
  transform: rotate(180deg);
}



/* =========================
   Right panel
   ========================= */
.panel-right{display:flex;flex-direction:column;gap:var(--gap-lg)}

/* 카드 패딩 통일(미리보기/컨트롤) */
.preview-card,
.controls{
  background:#fff;border-radius:var(--r-lg);box-shadow:var(--shadow);
  padding:24px;
}

/* 미리보기 스테이지 (정리본 — 중복 금지) */
.preview-stage{
  width:100%;
  border:1px dashed var(--gray-400);
  border-radius:16px;
  background:#fff;

  display:flex;
  align-items:center;
  justify-content:center;
  gap:var(--sides-gap);

  /* 고정 height 제거 + 여유 확보 */
  height:auto;
  min-height:640px;              /* 필요 시 560~640px 사이로 */
  padding:40px 24px 112px;       /* 하단 넉넉히 — 점수 잘림 방지 */
  overflow:visible;
}

.preview-stage .vs{font-size:56px;font-weight:800;line-height:1;color:#121212}

/* 좌/우 팀 블록 */
.side{display:flex;flex-direction:column;align-items:center;gap:12px}
.logo-box{
  width:var(--logo-box);height:var(--logo-box);
  border:2px dashed var(--gray-400);border-radius:16px;
  display:flex;align-items:center;justify-content:center;overflow:hidden;
  background: transparent;                     /* ← 흰 배경 제거 */
}
.logo-box:has(img){
  border-color: transparent;                   /* 로고 있으면 점선 숨김 */
  background: transparent;                     /* 안전하게 배경도 투명 유지 */
}

.logo-box svg,.logo-box img{width:100%;height:100%;object-fit:contain;display:block}
.team-label{font-size:24px;color:var(--gray-500);font-weight:700;line-height:1.2}
.score{font-size:64px;font-weight:700;line-height:1;margin-top:16px}

/* 1) 그리드 아이템이 트랙 안에서 줄어들 수 있게 */
.layout > * { min-width: 0; }   /* 좌/우 패널 공통 */
.panel-right { min-width: 0; }  /* 안전하게 한 번 더 */

/* =========================
   Controls (오른쪽 하단 폼)
   ========================= */
.controls{display:grid; grid-template-columns: minmax(0,1fr) minmax(0,1fr); gap:14px 16px}
.control-row{
  display:flex;align-items:center;gap:12px;background:var(--gray-200);
  border:1px solid var(--gray-400);border-radius:12px;padding:16px 12px
}

/* 3) 행/입력 요소도 최소폭 강제 해제 */
.control-row { min-width: 0; }
.controls input[type="text"],
.controls input[type="number"]{
  min-width: 0;
  width: 100%;
}

/* (선택) 화면이 좀 더 좁아지면 1열로 빨리 전환하고 싶을 때 임계값 상향 */
@media (max-width: 900px){
  .controls{ grid-template-columns: 1fr; }
}

.control-label{min-width:120px;font-weight:700}
.controls input[type="text"], .controls input[type="number"]{
  flex:1;height:44px;border:1px solid var(--gray-300);border-radius:10px;padding:0 12px;background:#fff
}
.color-field{display:flex;align-items:center;gap:10px;width:100%}
.color-field input[type="color"]{width:40px;height:40px;padding:0;border:none;background:transparent}

/* 미리보기 카드 툴바: 다운로드 버튼을 오른쪽 정렬 */
.preview-toolbar{
  display: flex;
  justify-content: flex-end;
  position:static; top:16px; right:16px;
  z-index:30;             /* 스테이지보다 위 */
  margin-bottom: 12px;   /* 아래 스테이지와 간격 */
}

/* 다운로드 버튼 색상 + 정렬 */
#download-btn{
  background: #121212;         /* 버튼 배경 */
  color: #ffffff;              /* 텍스트(=아이콘) 색 */
  border-color: #121212;
  display: inline-flex;
  align-items: center;
  gap: 8px;                    /* 아이콘과 텍스트 간격 */
}

/* 아이콘: SVG를 마스크로 불러와서 버튼 color로 칠함 */
#download-btn .icon{
  width: 18px;
  height: 18px;
  background: currentColor;    /* #ffffff */
  -webkit-mask: url("icons/download.svg") no-repeat center / 100% 100%;
          mask: url("icons/download.svg") no-repeat center / 100% 100%;
}

/* (선택) 호버/포커스 상태 */
#download-btn:hover,
#download-btn:focus{
  filter: brightness(1.05);
  outline: none;
}



/* =========================
   Misc
   ========================= */
.btn{height:44px;padding:0 14px;border-radius:12px;border:1px solid var(--gray-300);background:#fff}
.btn-ghost{border:none;background:transparent;color:#666}

/* ===== iOS Safari에서 파란 링크색 방지 ===== */
a, a:visited { 
  color: inherit;              /* 부모 색(=검정) 상속 */
  text-decoration: none;
}

/* ===== iOS 기본 버튼색(파란색)과 텍스트 오토조정 방지 ===== */
html { -webkit-text-size-adjust: 100%; } /* iOS 자동 폰트 확대 방지 */

/* 버튼/입력류는 폰트와 색을 부모에서 상속받게 */
button, input, select, textarea {
  font: inherit;
  color: inherit;
}

/* 버튼 계열의 글자색을 명시적으로 지정 (iOS에서 특히 필요) */
.sport-toggle,
.team-select,
.btn,
.btn-mini,
.btn-ghost {
  color: var(--ink);
}

/* 링크도 파란색 대신 현재 텍스트 색 사용 */
a, a:visited {
  color: inherit;
  text-decoration: none;
}

/* (모바일 보정) 탭/아코디언/썸네일 사이즈 조정은 이미 있으니 보강만 */
@media (max-width: 640px){
  .tabs [role="tab"]{
    height: 64px;
    font-size: 18px;
  }
  .sport-toggle{
    padding: 14px 12px;
    font-size: 18px;
  }
  .team-logo{ width:48px; height:48px; flex:0 0 48px; }

  .preview-stage{
    min-height: 520px;
    padding: 28px 16px 88px;
  }
}

.panel-left{ position: relative; z-index: 10; }   /* ← 좌측을 항상 위로 */
.panel-right{ position: relative; z-index: 1; }

.preview-card{ position: relative;} /* 내부가 왼쪽 영역으로 넘치지 않게 */
.preview-stage{ position: relative; max-width: 100%; }  /* 우측 스테이지가 그리드 밖으로 커지지 않게 */

/* (선택) 넓은 미디어에서만 좌우 2칼럼, 좁을 때 1칼럼 */
@media (max-width: 1024px){
  .layout{ grid-template-columns: 1fr; }
}

/* ===== Autocomplete ===== */
.autocomplete-menu{
  position:absolute;
  inset-block-start: calc(100% + 8px);
  inset-inline: 0;
  background:#fff;
  border:1px solid #eee;
  border-radius:12px;
  box-shadow:0 8px 24px rgba(0,0,0,.06);
  padding:6px;
  max-height:280px;
  overflow:auto;
  z-index:50;
}

.autocomplete-item{
  display:flex;
  align-items:center;
  gap:10px;
  width:100%;
  padding:8px 10px;
  border-radius:8px;
  background:transparent;
  cursor:pointer;
  border:none;
  text-align:left;
  font:inherit;
}

.autocomplete-item:hover{ background:#f7f7f7; }

.autocomplete-item .team-logo{
  width:28px; height:28px; border-radius:6px; background:#fff; flex:0 0 28px;
}
.autocomplete-item .team-logo img{
  width:100%; height:100%; object-fit:contain; display:block;
}
.autocomplete-item .team-name{ flex:1 1 auto; }

.preview-stage .team-label { display: none !important; }
/* 팀명이 사라지면 간격이 줄어드니, 점수 위 여백을 넉넉히(다운로드의 scoreMargin과 맞춤) */
.preview-stage .score { margin-top: 12px; } /* 필요에 따라 20~28px에서 조절 */

/* 기본값(데스크톱) */
:root{
  --sides-gap: 56px;   /* 좌/우 로고와 VS 사이 간격(아이템 사이) */
  --vs-size:   56px;    /* VS 글자 크기 */
  --score-size:72px;    /* 점수 크기 */
}

/* gap/글자 크기 실제 적용 */
.preview-stage{
  gap: var(--sides-gap);
}
.preview-stage .vs{ font-size: var(--vs-size); }
.preview-stage .score{ font-size: var(--score-size); }

/* 모바일: 간격/글자 크기 축소(가로 유지) */
@media (max-width: 640px){
  :root{
    --sides-gap: 32px;   /* 데스크톱 180 → 모바일 36 */
    --vs-size:   32px;   /* VS 조금 작게 */
    --score-size:40px;   /* 점수 조금 작게 */
  }
  /* 넘침 방지용(선택) */
  .preview-stage{ overflow: hidden; padding: 24px 12px 84px; }
}

/* 더 좁은 기기(선택): 한 단계 더 줄이기 */
@media (max-width: 480px){
  :root{
    --sides-gap: 24px;   /* 아주 좁을 때는 더 촘촘하게 */
    --vs-size:   44px;
    --score-size:52px;
  }
}

/* 공통: 점수 패딩 기준 변수(있으면 생략 가능) */
:root{
  --stage-pad-x: 48px;   /* 프리뷰 좌/우 안쪽 여백 */
}

/* 태블릿 가로(아이패드 9세대 포함) 전용 조정 */
@media (orientation: landscape) and (min-width: 900px) and (max-width: 1180px){

  /* 1) 크기/간격 변수 덮어쓰기 */
  :root{
    /* 로고 박스 한 변 길이: 화면 폭에 따라 자동 축소 */
    --logo-box: clamp(150px, 22vw, 190px);

    /* VS / 점수 글자 크기 축소 */
    --vs-size:    clamp(40px, 5vw, 52px);
    --score-size: clamp(48px, 6.5vw, 64px);

    /* 프리뷰 좌우 여백(점수 위치 기준) */
    --stage-pad-x: clamp(12px, 3vw, 24px);
  }

  /* 2) 프리뷰 스테이지: 패딩/넘침/간격 */
  .preview-stage{
    position: relative;
    overflow: hidden;                     /* 넘침 방지 */
    padding: 32px var(--stage-pad-x) 90px;/* 하단은 점수 자리 */
    /* 남은 가로폭을 보고 gap을 자동 계산(최소~최대 가드) */
    gap: clamp(
      24px,
      calc((100% - (2 * var(--logo-box)) - var(--vs-size)) / 2),
      72px
    );
  }

  /* 3) 로고 슬롯(점선 박스)도 변수 기준으로 */
  .logo-slot,
  .stage-home .logo-slot,
  .stage-away .logo-slot{
    width: var(--logo-box);
    height: var(--logo-box);
  }

  /* 4) VS/점수 글자 크기 적용(이미 있다면 뒤에서 덮어씀) */
  .preview-stage .vs{ font-size: var(--vs-size); }
  .preview-stage .score{ font-size: var(--score-size); }

  /* 5) 점수의 좌우 위치를 패딩 기준으로 고정 */
  .preview-stage .score.left  { left:  var(--stage-pad-x); }
  .preview-stage .score.right { right: var(--stage-pad-x); }
}


